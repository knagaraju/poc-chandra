<div class="csv-table-container">
  <div class="">
      <div class="d-flex pb-2 align-items-center">
          <div class="header">
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Search..." #searchInput>
              <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" (click)="search(searchInput.value)">Search</button>
              </div>
            </div>
          </div>
          <div class="ms-auto">
              <button class="match-btn" (click)="openAddbatch()" >Add Batch</button>
          </div>
      </div>
      <div class="table-area">
          <table class="table  table-bordered custom-table">
              <thead>
                <tr>
                  <th (click)="sortBy('batchId')">
                    Batch ID
                    <i class="bi bi-sort-up" *ngIf="sortByColumn === 'batchId' && sortOrder === 'asc'"></i>
                    <i class="bi bi-sort-down" *ngIf="sortByColumn === 'batchId' && sortOrder === 'desc'"></i>
                  </th>
                  <th (click)="sortBy('description')">
                    Description
                    <i class="bi bi-sort-up" *ngIf="sortByColumn === 'description' && sortOrder === 'asc'"></i>
                    <i class="bi bi-sort-down" *ngIf="sortByColumn === 'description' && sortOrder === 'desc'"></i>
                  </th>
                  <th (click)="sortBy('dateInitiated')">
                    Date Initiated
                    <i class="bi bi-sort-up" *ngIf="sortByColumn === 'dateInitiated' && sortOrder === 'asc'"></i>
                    <i class="bi bi-sort-down" *ngIf="sortByColumn === 'dateInitiated' && sortOrder === 'desc'"></i>
                  </th>
                  <th (click)="sortBy('dateCompleted')">
                    Date Completed
                    <i class="bi bi-sort-up" *ngIf="sortByColumn === 'dateCompleted' && sortOrder === 'asc'"></i>
                    <i class="bi bi-sort-down" *ngIf="sortByColumn === 'dateCompleted' && sortOrder === 'desc'"></i>
                  </th>
                  <th (click)="sortBy('dataModname')">
                    Data Modler Name
                    <i class="bi bi-sort-up" *ngIf="sortByColumn === 'dataModname' && sortOrder === 'asc'"></i>
                    <i class="bi bi-sort-down" *ngIf="sortByColumn === 'dataModname' && sortOrder === 'desc'"></i>
                  </th>
                  <th (click)="sortBy('status')">
                    Status
                    <i class="bi bi-sort-up" *ngIf="sortByColumn === 'status' && sortOrder === 'asc'"></i>
                    <i class="bi bi-sort-down" *ngIf="sortByColumn === 'status' && sortOrder === 'desc'"></i>
                  </th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of paginatedItems; let i = index"
                [class.secondary-row]="i % 2 === 0">
                  <td>{{ item.batchId }}</td>
                  <td>{{ item.description }}</td>
                  <td>{{ item.dateInitiated }}</td>
                  <td>{{ item.dateCompleted }}</td>
                  <td>{{ item.dataModname }}</td>
                  <td>{{ item.status }}</td>
                  <td>
                    <div class="d-flex">
                      <div class="me-2"><i class="bi bi-pencil-fill" style="color: #1a8604;"></i></div>
                      <div class="me-2"><i class="bi bi-upload"></i></div>
                      <div class="me-2"><i class="fa-solid fa-share" style="color: #FFD43B;"></i></div>
                    </div>
                  </td>
                </tr>
              </tbody>
          </table>
      </div>
      <div class="d-flex">
        <div>
          Showing {{ getStartIndex() }} to {{ getEndIndex() }} of {{ dataSource.length }} entries
        </div>
        <div class="ms-auto">
          <nav aria-label="Page navigation">
            <ul class="pagination">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <a class="page-link" (click)="prevPage()">Previous</a>
              </li>
              <li class="page-item" *ngFor="let page of pages" [class.active]="currentPage === page">
                <a class="page-link" *ngIf="isPageVisible(page)" (click)="goToPage(page)">
                  {{ getPageNumberText(page) }}
                </a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                <a class="page-link" (click)="nextPage()">Next</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
  </div>
</div>